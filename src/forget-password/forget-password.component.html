<div class="change-password-container">
  <p-card header="Forgot Password" styleClass="change-password-card">
    <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
      <div class="form-field">
        <label for="email">Email Address</label>
        <input 
          id="email"
          type="email" 
          pInputText 
          formControlName="email"
          placeholder="Enter your email"
          [class.ng-invalid]="changePasswordForm.get('email')?.invalid && changePasswordForm.get('email')?.touched"
        />
        <small 
          class="error-message" 
          *ngIf="changePasswordForm.get('email')?.invalid && changePasswordForm.get('email')?.touched"
        >
          Email is required and must be valid
        </small>
      </div>

      <div class="form-field">
        <label for="newPassword">New Password</label>
        <input 
          id="newPassword"
          type="password" 
          pInputText 
          formControlName="newPassword"
          placeholder="Enter new password"
          [class.ng-invalid]="changePasswordForm.get('newPassword')?.invalid && changePasswordForm.get('newPassword')?.touched"
        />
        <small 
          class="error-message" 
          *ngIf="changePasswordForm.get('newPassword')?.invalid && changePasswordForm.get('newPassword')?.touched"
        >
          Password must be at least  characters long
        </small>
      </div>

      <div class="form-field">
        <label for="confirmPassword">Confirm Password</label>
        <input 
          id="confirmPassword"
          type="password" 
          pInputText 
          formControlName="confirmPassword"
          placeholder="Confirm new password"
          [class.ng-invalid]="changePasswordForm.get('confirmPassword')?.invalid && changePasswordForm.get('confirmPassword')?.touched"
        />
        <small 
          class="error-message" 
          *ngIf="changePasswordForm.get('confirmPassword')?.invalid && changePasswordForm.get('confirmPassword')?.touched"
        >
          Passwords do not match
        </small>
      </div>

      <div class="form-actions">
        <p-button 
          type="submit" 
          label="Change Password" 
          [disabled]="changePasswordForm.invalid || isLoading"
          [loading]="isLoading"
          styleClass="primary-button"
        ></p-button>
        <p-button 
          type="button" 
          label="Cancel" 
          severity="secondary"
          (onClick)="onCancel()"
          styleClass="secondary-button"
        ></p-button>
      </div>

      <p-messages 
        *ngIf="errorMessage || successMessage" 
        [value]="getMessages()"
        styleClass="form-messages"
      ></p-messages>
    </form>
  </p-card>
</div>